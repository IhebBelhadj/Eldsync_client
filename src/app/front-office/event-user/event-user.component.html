



<div class="form-group">
  <div class="card">
    <h2 style="color: #333; font-size: 20px; font-family: 'Times New Roman', Times, serif;" id="viewrButton">
      <i class="pi pi-calendar" style="color: blue;font-weight: bold; " aria-hidden="true"></i> Upcoming Event: 
      <span style="font-weight: bold; font-family: 'Times New Roman', Times, serif;color: #333">
          {{ nextEvent.name }}
      </span>
  </h2>
  <h2 style="color: #333; font-size: 20px; font-family: 'Times New Roman', Times, serif;" id="registerButton">
      <i class="pi pi-clock" aria-hidden="true"  style="color: blue;font-weight: bold; " ></i> Event Date: 
      <span style="font-weight: bold; font-family: 'Times New Roman', Times, serif;color: #333">
          {{ nextEvent.date }}
      </span>
  </h2>
  
    
    <div class="grid formgrid">
      

          <span class="p-input-icon-left p-input-icon-right mr-3">
            <label for="fromDate" class="mr-1">From Day</label>
            <p-calendar [(ngModel)]="fromDate" inputId="fromDate"></p-calendar>
          </span>

          <span class="p-input-icon-left p-input-icon-right">
            <label for="toDate" class="mr-1">To Day</label>
            <p-calendar [(ngModel)]="toDate" inputId="toDate" class="mr-1"></p-calendar>
          </span>
  

          <div class="inline-flex">
          <button  id="searchButton" pButton pRipple type="button" label="Search" (click)="getEventsByDateRange()" icon="pi pi-search" class="p-button-text search" ></button>
          <button  id="suggestButton" pButton type="button" label="Suggest" style="color: green;" class="p-button-text  addevent" icon="pi pi-plus" (click)="GoAdd()"></button>
          <button  id="schedulerButton"  pButton type="button" label="Schedular" style="color: black;" class="p-button-text  calenderschedular " icon="pi pi-calendar" (click)="GoCalender()"></button>
          <button  id="attendedButton"  pButton pRipple type="button" label="Attended" class="p-button-text AttendedEvents"  icon="pi pi-eye"  (click)="navigateToAttendedEvents()"   style="color: orangered;"></button>
           <button  id="notificationsButton" pButton pRipple type="button" label="Notifications" (click)="showToast()" icon="pi pi-bell" class="p-button-text Notifications " style="color: black;"></button>
          <p-toast 
          position="top-center" 
          key="confirm" 
          (onClose)="onReject()" 
          [baseZIndex]="5000">
              <ng-template let-message pTemplate="message">
                  <div class="flex flex-column align-items-start" style="flex: 1">
                      <div class="flex align-items-center gap-2">
                          <p-avatar 
                              image="https://imgs.search.brave.com/ueR-t5W1-E6t5jZz8ZeKJbOyU80p4RM6u8uJnl-wCGI/rs:fit:860:0:0/g:ce/aHR0cHM6Ly9jZG4u/ZHJpYmJibGUuY29t/L3VzZXJ1cGxvYWQv/NzExMTI1Ny9maWxl/L29yaWdpbmFsLTRh/Y2JkN2NjMGYwYmIz/ZmE0YzdjZjA2OGZj/MmZiNDgyLnBuZz9y/ZXNpemU9NDAweDA"
                              shape="circle" />
                          <span class="font-bold text-900">
                              EldSync Team 
                          </span>
                      </div>
                      <div class="font-medium text-lg my-3 text-400">
                      <h3>There is some events you may be intersted in !! </h3>                        
                      </div>
                      <p-button size="small" label="View More" (click)="onConfirm()" />
                  </div>
              </ng-template>
      </p-toast>
          <p-dropdown [options]="categories" [(ngModel)]="selectedCategory" placeholder="Select a category" (onChange)="onCategoryChange()"></p-dropdown>
          <button pButton pRipple type="button" label="Refresh" icon="pi pi-refresh" (click)="resetFilter()" class="p-button-text" style="color: orangered;"></button>
         

       
    </div>
  </div>
</div>


<div class="container">
      <div *ngFor="let event of filteredEvents" class="card">
        <img class="card-img-top" [src]="event.bannerUrl || 'assets/default-image.jpg'" alt="Banner">
        <div class="card-body">
          <h5 class="card-title">{{ event.name }}</h5>
          <p class="card-text">{{ event.location }}</p>
          <p class="card-text"><small class="text-muted">{{ event.date | date }}</small></p>



          
         <!--<button pButton type="button" label="View Details" class="p-button-secondary mr-3" icon="pi pi-eye" (click)="showDialog(event)"></button>
          <button pButton type="button" label="Register" class="p-button-success" (click)="registerToEvent(event.idEvent)"></button>--> 
          <button  pButton type="button" label="View Details"  class="p-button-rounded p-button-success p-button-outlined btn1 mr-2" icon="pi pi-eye"(click)="showDialog(event)"></button>
          <button  pButton type="button" label="Register"  class="p-button-rounded p-button-success p-button-outlined btn2 mr-2" icon="pi pi-check" (click)="registerToEvent(event.idEvent)"></button>


        </div>
      </div>
    </div>

    
    
    <p-dialog [(visible)]="displayDialog" [style]="{'width': '30vw'}" [header]="selectedEvent?.name" [modal]="true" [closable]="true" [contentStyle]="{'overflow':'hidden'}" class="event-dialog">
      <div *ngIf="selectedEvent" class="event-content" style="margin-right: 10px;">
          <img [src]="selectedEvent.bannerUrl || 'assets/default-image.jpg'" alt="Banner" class="event-image" style="width:100%">
          <h3  style="color:Red;font-weight:bold">{{ selectedEvent.location }}</h3>
          <h4>{{ selectedEvent.price | currency }}</h4>
          <h4><small>{{ selectedEvent.date | date:'fullDate' }}</small></h4>

          <h5>{{ selectedEvent.description }}</h5>
          <p>{{ selectedEvent.category }}</p>

      </div>
  </p-dialog>
  <p-paginator [rows]="rows" [totalRecords]="totalRecords" (onPageChange)="paginate($event)" styleClass="paginator-custom" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [rowsPerPageOptions]="[5, 10, 20]"></p-paginator>

  <p-dialog header="Notification" [(visible)]="RegisterDialog" [modal]="true" [style]="{width: '40vw'}">
    <p>{{ dialogMessage }}</p>
    <p-footer>
        <button type="button" pButton label="OK" (click)="hideDialoog()" class="p-button-rounded p-button-success p-button-outlined tst" style="width: 200px;"></button>
    </p-footer>
  </p-dialog>
  
  
  
    
    
<h1>Update Event</h1>
  <div class="grid p-fluid">
    <div class="col-12 md:col-6">
      <form [formGroup]="eventForm" (ngSubmit)="onSubmit()">

        <div class="form-group">
          <div class="field">
            <label for="name">Name:</label>
            <input formControlName="name" type="text" pInputText placeholder="Event Name">
          </div>
        </div>

        <div class="form-group">
          <div class="field">
            <label for="description">Description:</label>
            <textarea formControlName="description" rows="5" cols="30" pInputTextarea placeholder="Event Description"></textarea>
          </div>
        </div>

        <div class="form-group">
          <div class="field">
            <label for="date">Date:</label>
            <p-calendar formControlName="date" [showIcon]="true" inputId="icon"></p-calendar>
          </div>s
        </div>

        <div class="form-group">
          <div class="field">
            <label for="category">Category:</label>
            <p-dropdown [options]="categories" formControlName="category" placeholder="Select a Category" [showClear]="true"></p-dropdown>
          </div>
        </div>

        <div class="form-group">
          <div class="field">
            <label for="location">Location:</label>
            <p-autoComplete formControlName="location" 
            [suggestions]="filteredLocations" 
            (completeMethod)="searchLocations($event)" 
            [dropdown]="true"></p-autoComplete>
          </div>
        </div>
        
        
       
      <!--
        
        <div class="form-group">
                  <div class="field">
                      <label for="location">Location:</label>
                      <input formControlName="location" pInputText id="location" type="text" />
                  </div>
            </div>
      -->
        <div class="form-group">
          <div class="field">
            <label for="price">Price:</label>
            <input formControlName="price" type="number" pInputText placeholder="Price" />
          </div>
        </div>

        <div class="form-group">
          <div class="field">
            <label for="status">Status:</label>
            <p-dropdown [options]="status" formControlName="status" placeholder="Select a Status" [showClear]="true"></p-dropdown>
          </div>
        </div>

        <div class="form-group">
          <div class="field">
            <label for="banner">Banner:</label>
                  <p-fileUpload  name="file" customUpload="true" (onSelect)="handleFileSelect($event)"
                    accept="image/*" maxFileSize="1000000" chooseLabel="Select Image">
                    <ng-template pTemplate="item" let-file>
                      <div class="ui-fileupload-row">
                        <div><img [src]="file.objectURL" [alt]="file.name" class="preview-image" *ngIf="file.objectURL" style="width: 100%;"></div>
                        
                      </div>
                    </ng-template>
                  </p-fileUpload>
            <img *ngIf="imageUrl" [src]="imageUrl" alt="Event Banner" class="event-banner">
          </div>
        </div>

        <div style="margin-top: 10px;">
          <div class="flex flex-wrap gap-2">
            <p-button label="Update Event" type="submit" icon="pi pi-check" [disabled]="!eventForm.valid"></p-button>
            <p-button label="Cancel" type="button" icon="pi pi-times" (click)="goBack()" class="p-button-danger"></p-button>
          </div>
        </div>

      </form>
    </div>
  </div>

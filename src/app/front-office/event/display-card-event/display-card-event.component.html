<h1 style="text-align: center; font-family: 'Poppins', sans-serif; color: black; font-size: 40px; padding: 20px;font-weight:Bold">
  Events pending approval</h1>

<div class="form-group">
  <div class="card">
    
    <div class="grid formgrid">
      

          <span class="p-input-icon-left p-input-icon-right mr-3">
            <label for="fromDate" class="mr-3">From Day</label>
            <p-calendar [(ngModel)]="fromDate" inputId="fromDate"></p-calendar>
          </span>

          <span class="p-input-icon-left p-input-icon-right">
            <label for="toDate" class="mr-3">To Day</label>
            <p-calendar [(ngModel)]="toDate" inputId="toDate"></p-calendar>
          </span>
  

    <div class="col-12 mb-2 lg:col-4 lg:mb-0">
          <button pButton pRipple type="button" label="Search" class="p-button-rounded p-button-success p-button-text"  icon="pi pi-search"  (click)="getEventsByDateRange()" ></button>
          <button pButton pRipple type="button" label="Reset" icon="pi pi-refresh" (click)="resetEvents()" class="p-button-rounded p-button-success p-button-text" style=" color:orangered; " ></button>
          <button pButton pRipple type="button" label=" Newest Events" (click)="sortEventsByNewestFirst()" class="p-button-rounded p-button-success p-button-text" style=" color:black; " icon="pi pi-clock"  ></button>
          <button pButton pRipple type="button" label="Exit" class="p-button-rounded p-button-success p-button-text"  icon="pi pi-arrow-left" style=" color:black; " (click)="GoBack()" ></button>

        </div>
  </div>
</div>


<div class="container">
      <div *ngFor="let event of events" class="card">
        <img class="card-img-top" [src]="event.bannerUrl || 'assets/default-image.jpg'" alt="Banner">
        <div class="card-body">
          <h5 class="card-title">{{ event.name }}</h5>
          <p class="card-text">{{ event.location }}</p>
          <p class="card-text"><small class="text-muted">{{ event.date | date }}</small></p>
          <button pButton type="button" label="View Details"  class="p-button-rounded p-button-success p-button-outlined btn1 mr-2" icon="pi pi-eye" (click)="showDialog(event)"></button>
          <button pButton type="button" label="Approve"  class="p-button-rounded p-button-success p-button-outlined btn2 mr-2" icon="pi pi-check" (click)="approveEvent(event)" *ngIf="event.status === 'PENDING'"></button>
          <button pButton pRipple type="button"  pButton label="Reject" icon="pi pi-trash" class="p-button-rounded p-button-danger p-button-outlined buttonnn" (click)="showDialogToDelete(event.idEvent)"  ></button>

        </div>
      </div>
    </div>

    
    
    <p-dialog [(visible)]="displayDialog" [style]="{'width': '30vw'}" [header]="selectedEvent?.name" [modal]="true" [closable]="true" [contentStyle]="{'overflow':'hidden'}" class="event-dialog">
      <div *ngIf="selectedEvent" class="event-content" style="margin-right: 10px;">
          <img [src]="selectedEvent.bannerUrl || 'assets/default-image.jpg'" alt="Banner" class="event-image" style="width:100%">
          <h3  style="color:Red;font-weight:bold">{{ selectedEvent.location }}</h3>
          <h4>{{ selectedEvent.price | currency }}</h4>
          <h4><small>{{ selectedEvent.date | date:'fullDate' }}</small></h4>

          <h5>{{ selectedEvent.description }}</h5>
          <p>{{ selectedEvent.category }}</p>

      </div>
  </p-dialog>
  



<p-dialog header="Confirm Deletion" [(visible)]="displayDeleteDialog" [style]="{width: '400px'}" modal="modal" [closable]="false" [resizable]="false">
  <div class="p-d-flex p-ai-center p-jc-center p-dir-col" style="min-height: 50px;">
      
      <p> <i class="pi pi-exclamation-triangle" style="font-size: 20px; color: red;"></i>  Are you sure you want to delete this event?</p>
  </div>
  <p-footer>
      <button pButton type="button" label="Yes, Delete" icon="pi pi-check" class="p-button-rounded p-button-danger" (click)="confirmDelete()"></button>
      <button pButton type="button" label="Cancel" icon="pi pi-times" class="p-button-rounded p-button-text" (click)="displayDeleteDialog = false" style="color: black;"></button>
  </p-footer>
</p-dialog>

    
<p-dialog header="Warning !" [(visible)]="displayInfoDialog" [modal]="true" [style]="{width: '50vw'}" [closable]="true" [dismissableMask]="true">
  <p>{{ infoMessage }}</p>
  <p-footer>
    <button pButton type="button" label="OK" (click)="closeInfoDialog()" class="p-button-rounded p-button-danger" ></button>
  </p-footer>
</p-dialog>

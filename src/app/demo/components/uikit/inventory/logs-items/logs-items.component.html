<div class="container mt-2">
      <h1>Item Logs List</h1>
    
      <div class="form-group">
        <div class="card">
            <h5>Search By Action</h5>
            <div class="grid formgrid">
            <span class="p-input-icon-left p-input-icon-right">
              <i class="pi pi-cog"></i>
              <input type="text" pInputText placeholder="Search" id="locationSearch" [(ngModel)]="searchLocation">
              <i class="pi pi-search"></i>
            </span>
              <div class="col-12 mb-2 lg:col-4 lg:mb-0">
                  <button pButton pRipple type="button" label=""  icon="pi pi-search" class="p-button-success  mr-3" (click)="filterItems()"  ></button>
                  <button pButton pRipple type="button" label="" icon="pi pi-refresh" class="p-button-secondary mr-3" (click)="refreshItems()" ></button>
                  <button pButton pRipple type="button" label="Export" icon="pi pi-download" class="p-button-warning mr-3 " (click)="exportToExcel()" ></button>
                  <button pButton pRipple type="button" label="" icon="pi pi-arrow-left" class="p-button-secondary mr-3" (click)="goBack()" ></button>


              </div>
            </div>
        </div>
    
      </div>
    

<p-table [value]="filteredItems">
  <ng-template pTemplate="header">
    <tr>
      <th>ID</th>
      <th>Action</th>
      <th>Item ID</th>
      <th>Action Date</th>
      <th>Details</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-itemHistory>
    <tr>
      <td>{{ itemHistory.historyId }}</td>
      <td>{{ itemHistory.action }}</td>
      <td>{{ itemHistory.itemId }}</td>
      <td>{{ itemHistory.timestamp | date}}</td>
      <td>{{ itemHistory.details }}</td>

      <td>
        <button type="button" pButton label="" icon="pi pi-eye" class="p-button-help mr-2" (click)="viewItem(item.id)"></button>
        <button type="button" pButton label="" icon="pi pi-trash" class="p-button-danger mr-2" (click)="deleteItemLog(itemHistory.historyId)"></button>
        <button *ngIf="itemHistory.action === 'DELETE'" type="button" pButton label="Restore" icon="pi pi-undo" class="p-button-warning mr-2" (click)="restoreItem(itemHistory.itemId)"></button>




      </td>
    </tr>
  </ng-template>
</p-table>

<div class="pagination-control" style="display: flex; align-items: center; justify-content: flex-end; margin-top: 20px;">
  <label for="itemsPerPage" style="margin-right: 10px;">Items per page:</label>
  <select id="itemsPerPage" [(ngModel)]="itemsPerPage" (change)="onItemsPerPageChange()" style="padding: 5px; border-radius: 5px; border: 1px solid #ccc;">
    <option *ngFor="let option of perPageOptions" [value]="option">{{ option }}</option>
  </select>
</div>

    </div>
    